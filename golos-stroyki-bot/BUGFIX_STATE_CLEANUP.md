# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ä–µ–∂–∏–º–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∂–∏–º–∞–º–∏ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ (–±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ ‚Üî —Å–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã) —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ –æ—á–∏—â–∞–ª–∏—Å—å, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º:

**–°—Ü–µ–Ω–∞—Ä–∏–π –±–∞–≥–∞:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –≤ –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è `searchStates[userId]`
2. –ù–∞–∂–∏–º–∞–µ—Ç "–ù–∞–∑–∞–¥" –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
3. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–æ–∑–¥–∞–Ω–∏—é –∞–Ω–∫–µ—Ç—ã ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è `userStates[userId]`
4. –ù–û `searchStates[userId]` –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏
5. –ë–æ—Ç –¥—É–º–∞–µ—Ç —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ –µ—â–µ –≤ —Ä–µ–∂–∏–º–µ –ø–æ–∏—Å–∫–∞
6. –°–æ–æ–±—â–µ–Ω–∏—è –ø–µ—Ä–µ–ø—É—Ç—ã–≤–∞—é—Ç—Å—è - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤–æ–ø—Ä–æ—Å—ã –∏–∑ –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
GolosStroyki: –®–∞–≥ 2 –∏–∑ 11 ‚Äî –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
GolosStroyki: ü§ñ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞...
GolosStroyki: ‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –≥–æ—Ä–æ–¥
GolosStroyki: –®–∞–≥ 2 –∏–∑ 11 ‚Äî –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
GolosStroyki: üîç –®–∞–≥ 2 –∏–∑ 2 ‚Äî –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
```

–î–∞–∂–µ `/start` –Ω–µ –ø–æ–º–æ–≥–∞–ª - —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å –≤ –ø–∞–º—è—Ç–∏.

## –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ **–æ—á–∏—Å—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π** –≤–æ –≤—Å–µ—Ö —Ç–æ—á–∫–∞—Ö –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤:

### 1. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –∞–Ω–∫–µ—Ç—ã —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
**–ú–µ—Å—Ç–æ:** `callback_data: 'create_contractor_profile'` (—Å—Ç—Ä–æ–∫–∞ ~2001)
```javascript
// –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û—á–∏—â–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å
if (searchStates[userId]) {
  delete searchStates[userId];
}
```

### 2. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –∑–∞—è–≤–∫–∏
**–ú–µ—Å—Ç–æ:** `callback_data: 'create_order'` (—Å—Ç—Ä–æ–∫–∞ ~2255)
```javascript
// –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û—á–∏—â–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å
if (searchStates[userId]) {
  delete searchStates[userId];
}
```

### 3. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∫ –±—ã—Å—Ç—Ä–æ–º—É –ø–æ–∏—Å–∫—É —Ä–∞–±–æ—Ç—ã
**–ú–µ—Å—Ç–æ:** `callback_data: 'quick_search_work'` (—Å—Ç—Ä–æ–∫–∞ ~2054)
```javascript
// –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û—á–∏—â–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–∫–µ—Ç—ã –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å
if (userStates[userId]) {
  delete userStates[userId];
}
```

### 4. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∫ –±—ã—Å—Ç—Ä–æ–º—É –ø–æ–∏—Å–∫—É —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
**–ú–µ—Å—Ç–æ:** `callback_data: 'quick_search_contractors'` (—Å—Ç—Ä–æ–∫–∞ ~2312)
```javascript
// –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û—á–∏—â–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–∫–µ—Ç—ã –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å
if (userStates[userId]) {
  delete userStates[userId];
}
```

### 5. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ —Ä–∞–∑–¥–µ–ª "–ò—â—É —Ä–∞–±–æ—Ç—É"
**–ú–µ—Å—Ç–æ:** `callback_data: 'search_work'` (—Å—Ç—Ä–æ–∫–∞ ~1983)
```javascript
// –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û—á–∏—â–∞–µ–º –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª
if (userStates[userId]) {
  delete userStates[userId];
}
if (searchStates[userId]) {
  delete searchStates[userId];
}
```

### 6. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ —Ä–∞–∑–¥–µ–ª "–ò—â—É –ª—é–¥–µ–π"
**–ú–µ—Å—Ç–æ:** `callback_data: 'search_people'` (—Å—Ç—Ä–æ–∫–∞ ~2250)
```javascript
// –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û—á–∏—â–∞–µ–º –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª
if (userStates[userId]) {
  delete userStates[userId];
}
if (searchStates[userId]) {
  delete searchStates[userId];
}
```

### 7. –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
**–ú–µ—Å—Ç–æ:** `callback_data: 'main_menu'` (—Å—Ç—Ä–æ–∫–∞ ~1589)
```javascript
// –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û—á–∏—â–∞–µ–º –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ –º–µ–Ω—é
if (userStates[userId]) {
  delete userStates[userId];
}
if (searchStates[userId]) {
  delete searchStates[userId];
}
```

## –¢–∏–ø—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ –±–æ—Ç–µ

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π:

1. **`userStates[userId]`** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–∫–µ—Ç—ã (contractor –∏–ª–∏ order)
   - –•—Ä–∞–Ω–∏—Ç: `formType`, `step`, `data`, `chatId`, `username`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ–æ—Ä–º

2. **`searchStates[userId]`** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
   - –•—Ä–∞–Ω–∏—Ç: `type`, `step`, `city`, `query`, `results`, `promptMessageId`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–∏—Å–∫–µ —Ä–∞–±–æ—Ç—ã –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤

## –õ–æ–≥–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏

### –ü—Ä–∏–Ω—Ü–∏–ø "—á–∏—Å—Ç—ã–π –ø–µ—Ä–µ—Ö–æ–¥"
–ö–∞–∂–¥—ã–π —Ä–∞–∑ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –Ω–æ–≤—ã–π —Ä–µ–∂–∏–º - —Å—Ç–∞—Ä—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—è—é—Ç—Å—è:

- **–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã:** –æ—á–∏—â–∞–µ–º `searchStates`
- **–°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã ‚Üí –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫:** –æ—á–∏—â–∞–µ–º `userStates`
- **–õ—é–±–æ–π —Ä–µ–∂–∏–º ‚Üí –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:** –æ—á–∏—â–∞–µ–º –í–°–ï —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏:** –æ—á–∏—â–∞–µ–º –í–°–ï —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ü–æ—á–µ–º—É —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ?

1. –°–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Ä–µ–∂–∏–º
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —á–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç –±–µ–∑ "–ø—Ä–∏–∑—Ä–∞–∫–æ–≤" –ø—Ä–æ—à–ª—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
3. –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ - —Å—Ç–∞—Ä—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ ‚Üí –ù–∞–∑–∞–¥ ‚Üí –°–æ–∑–¥–∞—Ç—å –∞–Ω–∫–µ—Ç—É ‚Üí –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –¢–û–õ–¨–ö–û –≤–æ–ø—Ä–æ—Å—ã –∞–Ω–∫–µ—Ç—ã
2. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã ‚Üí –ù–∞–∑–∞–¥ ‚Üí –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ ‚Üí –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –¢–û–õ–¨–ö–û –≤–æ–ø—Ä–æ—Å—ã –ø–æ–∏—Å–∫–∞
3. ‚úÖ –õ—é–±–æ–π —Ä–µ–∂–∏–º ‚Üí –í –º–µ–Ω—é ‚Üí –Ω–æ–≤—ã–π —Ä–µ–∂–∏–º ‚Üí —Å—Ç–∞—Ä—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ –≤–ª–∏—è—é—Ç
4. ‚úÖ `/start` ‚Üí –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–±—Ä–æ—à–µ–Ω—ã ‚Üí —á–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π:

```javascript
function clearAllUserStates(userId) {
  if (userStates[userId]) {
    delete userStates[userId];
  }
  if (searchStates[userId]) {
    delete searchStates[userId];
  }
  if (complaintStates[userId]) {
    delete complaintStates[userId];
  }
  // –ò –¥—Ä—É–≥–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ –º–µ—Ä–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
}
```

–ù–æ –ø–æ–∫–∞ —Ä–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –±–µ–∑ —ç—Ç–æ–≥–æ.

## –í–∞–∂–Ω–æ

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** - –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ –±–æ—Ç–∞
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–æ–Ω–∏ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏)
- –î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω—É–∂–µ–Ω **–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞**

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞ (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
npm start
```

–ë–∞–≥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω! ‚úÖ
