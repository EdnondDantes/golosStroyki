# –≠—Ç–∞–ø 3 - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ (11 —à–∞–≥–æ–≤)

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

‚úÖ –°–æ–∑–¥–∞–Ω SQL —Å–∫—Ä–∏–ø—Ç `database-update-contractor-fields.sql` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
‚úÖ –ò–∑–º–µ–Ω–µ–Ω –ø–æ—Ä—è–¥–æ–∫ —à–∞–≥–æ–≤ –∞–Ω–∫–µ—Ç—ã (—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –≥–æ—Ä–æ–¥ –ø–æ–º–µ–Ω—è–ª–∏—Å—å –º–µ—Å—Ç–∞–º–∏)
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞–º –Ω–∞ —à–∞–≥–µ 3
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —à–∞–≥ 4 - –ò–º—è
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —à–∞–≥ 7 - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —à–∞–≥ 8 - –§–æ—Ä–º–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–õ—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç")
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ saveContractorToDatabase –∏ finishForm
‚úÖ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ –ø–æ–ª–µ documents_form ‚Üí cooperation_format

## üîÑ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–Ω–∫–µ—Ç—ã (11 —à–∞–≥–æ–≤)

### –®–∞–≥ 1 - –§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã
**–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
- –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç / –ë—Ä–∏–≥–∞–¥–∞ / –ö–æ–º–ø–∞–Ω–∏—è

### –®–∞–≥ 2 - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–±—ã–ª–æ —à–∞–≥ 3)
**–ü–æ–º–µ–Ω—è–ª—Å—è –ø–æ—Ä—è–¥–æ–∫**
- –°–≤–æ–±–æ–¥–Ω—ã–π –≤–≤–æ–¥ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —á–µ—Ä–µ–∑ Deepseek
- –ü—Ä–∏–º–µ—Ä: "–û—Ç–¥–µ–ª–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä, –º–∞–ª—è—Ä–∫–∞, –ø–ª–∏—Ç–∫–∞, —ç–ª–µ–∫—Ç—Ä–∏–∫–∞"

### –®–∞–≥ 3 - –ì–æ—Ä–æ–¥/—Ä–µ–≥–∏–æ–Ω + –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞–º (–±—ã–ª–æ —à–∞–≥ 2)
**–ù–û–í–û–ï: –¥–æ–±–∞–≤–ª–µ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–æ–∫**
- –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞: –ú–æ—Å–∫–≤–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –õ—é–±–æ–π –≥–æ—Ä–æ–¥
- **–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å:** ‚òê –ì–æ—Ç–æ–≤ –∫ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞–º / ‚úÖ –ì–æ—Ç–æ–≤ –∫ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞–º
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `ready_for_trips: boolean`

### –®–∞–≥ 4 - –ò–º—è (–ù–û–í–´–ô –®–ê–ì)
**–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —à–∞–≥**
- –°–≤–æ–±–æ–¥–Ω—ã–π –≤–≤–æ–¥
- –ú–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `name: TEXT`

### –®–∞–≥ 5 - –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã (–±—ã–ª–æ —à–∞–≥ 4)
**–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
- –ú–µ–Ω–µ–µ 1 –≥–æ–¥–∞, 1-3 –≥–æ–¥–∞, 3-5 –ª–µ—Ç, 5-10 –ª–µ—Ç, –ë–æ–ª–µ–µ 10 –ª–µ—Ç

### –®–∞–≥ 6 - –ù–∞ –∫–∞–∫–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö —Ä–∞–±–æ—Ç–∞–ª–∏ (–±—ã–ª–æ —à–∞–≥ 5)
**–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
- –°–≤–æ–±–æ–¥–Ω—ã–π –≤–≤–æ–¥

### –®–∞–≥ 7 - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (–ù–û–í–´–ô –®–ê–ì)
**–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —à–∞–≥**
- –°–≤–æ–±–æ–¥–Ω—ã–π –≤–≤–æ–¥ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –ö–Ω–æ–ø–∫–∞ "‚è≠ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
- –ü—Ä–∏–º–µ—Ä—ã: "–ï—Å—Ç—å –∞–≤—Ç–æ–∫—Ä–∞–Ω 25 —Ç–æ–Ω–Ω", "–°–≤–æ—è –∞–≤—Ç–æ–≤—ã—à–∫–∞", "–î–æ–ø—É—Å–∫–∏ –°–†–û"
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `professional_advantages: TEXT`

### –®–∞–≥ 8 - –§–æ—Ä–º–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ (–±—ã–ª–æ —à–∞–≥ 7)
**–û–ë–ù–û–í–õ–ï–ù: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ + –Ω–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞**
- –ë—ã–ª–æ: documents_form
- –°—Ç–∞–ª–æ: cooperation_format
- –ö–Ω–æ–ø–∫–∏: –ò–ü, –°–∞–º–æ–∑–∞–Ω—è—Ç—ã–π, –û–û–û, –ü–æ –¥–æ–≥–æ–≤–æ—Ä—É, –ë–µ–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è, **–õ—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç (–Ω–æ–≤–æ–µ)**
- Callback data –∏–∑–º–µ–Ω–µ–Ω—ã: `doc_*` ‚Üí `coop_*`

### –®–∞–≥ 9 - –£—Å–ª–æ–≤–∏—è –æ–ø–ª–∞—Ç—ã (–±—ã–ª–æ —à–∞–≥ 8)
**–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
- –ù–∞–ª, –ë–µ–∑–Ω–∞–ª, –û–±—Å—É–∂–¥–∞–µ—Ç—Å—è

### –®–∞–≥ 10 - –ö–æ–Ω—Ç–∞–∫—Ç—ã (–±—ã–ª–æ —à–∞–≥ 9)
**–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
- –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞

### –®–∞–≥ 11 - –§–æ—Ç–æ (–±—ã–ª–æ —à–∞–≥ 10)
**–ò–ó–ú–ï–ù–ï–ù: –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è**
- –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –ö–Ω–æ–ø–∫–∞ "‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å" (–≤–º–µ—Å—Ç–æ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å")
- –ü–æ—Å–ª–µ —Ñ–æ—Ç–æ –∏–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å—Ä–∞–∑—É –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∞–Ω–∫–µ—Ç–∞

## üìä –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ contractors

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `name` | TEXT | –ò–º—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞/–∫–æ–º–ø–∞–Ω–∏–∏ |
| `ready_for_trips` | BOOLEAN | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞–º |
| `professional_advantages` | TEXT | –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (nullable) |
| `cooperation_format` | TEXT | –§–æ—Ä–º–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ –∏–∑ documents_form) |

**–£–î–ê–õ–ï–ù–û –ü–û–õ–ï:**
- `documents_form` ‚Üí –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ –≤ `cooperation_format`
- `work_volume` ‚Üí –±–æ–ª–µ–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–π –∞–Ω–∫–µ—Ç–µ

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### askStep2() - askStep11()
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —à–∞–≥–æ–≤ –ø–µ—Ä–µ–Ω—É–º–µ—Ä–æ–≤–∞–Ω—ã
- –ò–∑–º–µ–Ω–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –≤—ã–∑–æ–≤–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ–∫—Å—Ç—ã –ø–æ–¥—Å–∫–∞–∑–æ–∫

#### Callback handlers
```javascript
// –ù–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
toggle_trips        // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–æ–∫ (—à–∞–≥ 3)
skip_advantages     // –ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ (—à–∞–≥ 7)
coop_*             // –§–æ—Ä–º–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ –≤–º–µ—Å—Ç–æ doc_* (—à–∞–≥ 8)
```

#### Message handlers (bot.on('message'))
- case 1: workFormat (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- case 2: specialization (–±—ã–ª–æ 3)
- case 3: city (–±—ã–ª–æ 2)
- case 4: name (–ù–û–í–û–ï)
- case 5: experience (–±—ã–ª–æ 4)
- case 6: objectsWorked (–±—ã–ª–æ 5)
- case 7: professionalAdvantages (–ù–û–í–û–ï)
- case 8: cooperationFormat (–±—ã–ª–æ 7)
- case 9: paymentConditions (–±—ã–ª–æ 8)
- case 10: contact (–±—ã–ª–æ 9)
- case 11: photo (–±—ã–ª–æ 10)

#### saveContractorToDatabase()
```javascript
{
  name: data.name,                                    // –ù–û–í–û–ï
  ready_for_trips: data.readyForTrips || false,      // –ù–û–í–û–ï
  professional_advantages: data.professionalAdvantages, // –ù–û–í–û–ï
  cooperation_format: data.cooperationFormat,         // –ü–ï–†–ï–ò–ú–ï–ù–û–í–ê–ù–û
  // work_volume: —É–¥–∞–ª–µ–Ω–æ
}
```

#### finishForm()
–û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏

## üìù –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–æ–∫

```javascript
// –í askStep3()
const readyForTrips = userData.readyForTrips || false;
const tripsToggle = readyForTrips ? '‚úÖ –ì–æ—Ç–æ–≤ –∫ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞–º' : '‚òê –ì–æ—Ç–æ–≤ –∫ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞–º';

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ toggle_trips
if (data === 'toggle_trips') {
  userStates[userId].data.readyForTrips = !userStates[userId].data.readyForTrips;
  await askStep3(chatId, userId); // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º —à–∞–≥
}
```

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Å—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
1. –§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã
2. –ì–æ—Ä–æ–¥ ‚Üê **–ø–æ–º–µ–Ω—è–ª—Å—è –ø–æ—Ä—è–¥–æ–∫**
3. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üê **–ø–æ–º–µ–Ω—è–ª—Å—è –ø–æ—Ä—è–¥–æ–∫**
4. –û–ø—ã—Ç
5. –û–±—ä–µ–∫—Ç—ã
6. –û–±—ä–µ–º —Ä–∞–±–æ—Ç ‚Üê **–£–î–ê–õ–ï–ù–û**
7. –î–æ–∫—É–º–µ–Ω—Ç—ã ‚Üê **–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ**
8. –û–ø–ª–∞—Ç–∞
9. –ö–æ–Ω—Ç–∞–∫—Ç—ã
10. –§–æ—Ç–æ
11. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ ‚Üê **–£–î–ê–õ–ï–ù–û**

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
1. –§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã
2. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üê **–ø–æ–º–µ–Ω—è–ª—Å—è –ø–æ—Ä—è–¥–æ–∫**
3. –ì–æ—Ä–æ–¥ + –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏ ‚Üê **–ø–æ–º–µ–Ω—è–ª—Å—è –ø–æ—Ä—è–¥–æ–∫ + –¥–æ–±–∞–≤–ª–µ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å**
4. –ò–º—è ‚Üê **–ù–û–í–û–ï**
5. –û–ø—ã—Ç
6. –û–±—ä–µ–∫—Ç—ã
7. –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ ‚Üê **–ù–û–í–û–ï**
8. –§–æ—Ä–º–∞—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ ‚Üê **–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ + –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–õ—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç"**
9. –û–ø–ª–∞—Ç–∞
10. –ö–æ–Ω—Ç–∞–∫—Ç—ã
11. –§–æ—Ç–æ ‚Üê **—Ñ–∏–Ω–∞–ª—å–Ω—ã–π —à–∞–≥ —Å –∫–Ω–æ–ø–∫–æ–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è**

## üöÄ Deployment –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### 1. –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –≤ Supabase

```bash
# –û—Ç–∫—Ä—ã—Ç—å Supabase Dashboard
# SQL Editor ‚Üí New Query
# –í—Å—Ç–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ database-update-contractor-fields.sql
# Run
```

**–í–∞–∂–Ω–æ:** –°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ `documents_form` ‚Üí `cooperation_format`
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –ø–æ–ª—è–º

### 2. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –±–æ—Ç–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
# –û–±–Ω–æ–≤–∏—Ç—å bot.js
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
node bot.js
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞

–°–º. `STAGE3_CHECKLIST.md`

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

**–í–ù–ò–ú–ê–ù–ò–ï:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ `documents_form` ‚Üí `cooperation_format` —Ç—Ä–µ–±—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö!

–ï—Å–ª–∏ –≤ –±–∞–∑–µ –µ—Å—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ —Å –ø–æ–ª–µ–º `documents_form`, –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

```sql
-- –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
UPDATE contractors
SET cooperation_format = documents_form
WHERE cooperation_format IS NULL AND documents_form IS NOT NULL;
```

### –£–¥–∞–ª–µ–Ω–Ω–æ–µ –ø–æ–ª–µ work_volume

–ü–æ–ª–µ `work_volume` –±–æ–ª—å—à–µ –Ω–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–π –∞–Ω–∫–µ—Ç–µ. –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î, –Ω–æ –Ω–æ–≤—ã–µ –∞–Ω–∫–µ—Ç—ã –Ω–µ –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —ç—Ç–æ –ø–æ–ª–µ.

### –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

–≠—Ç–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ. –ü—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ `NULL`.

### –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–æ–∫

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `false`. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –Ω–∞ —à–∞–≥–µ 3.

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```javascript
console.log(userStates[userId].data);

// –î–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
{
  workFormat: "...",
  specialization: "...",
  city: "...",
  readyForTrips: true/false,  // –ù–û–í–û–ï
  name: "...",                // –ù–û–í–û–ï
  experience: "...",
  objectsWorked: "...",
  professionalAdvantages: "..." | null, // –ù–û–í–û–ï
  cooperationFormat: "...",   // –ü–ï–†–ï–ò–ú–ï–ù–û–í–ê–ù–û
  paymentConditions: "...",
  contact: "...",
  photoUrl: "..." | null
}
```

## üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:

```sql
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞–º
SELECT
  ready_for_trips,
  COUNT(*) as count,
  ROUND(COUNT(*) * 100.0 / SUM(COUNT(*)) OVER(), 2) as percentage
FROM contractors
GROUP BY ready_for_trips;

-- –ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤
SELECT
  CASE
    WHEN professional_advantages IS NOT NULL THEN '–£–∫–∞–∑–∞–Ω—ã'
    ELSE '–ù–µ —É–∫–∞–∑–∞–Ω—ã'
  END as status,
  COUNT(*) as count
FROM contractors
GROUP BY status;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ñ–æ—Ä–º–∞—Ç–∞–º —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞
SELECT
  cooperation_format,
  COUNT(*) as count
FROM contractors
GROUP BY cooperation_format
ORDER BY count DESC;
```

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-12-17
**–ü—Ä–µ–¥—ã–¥—É—â–∏–π —ç—Ç–∞–ø:** –≠—Ç–∞–ø 2 (–°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π)
**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:** –≠—Ç–∞–ø 4 (TBD)
